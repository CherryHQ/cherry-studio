diff --git a/sdk.mjs b/sdk.mjs
index e2dbafb4e2faa1bf2b6b02f0009a2b9bbf57c757..ea333ae8c69fcd27a9f2d89b3dbfc0a3e4e4dec4 100755
--- a/sdk.mjs
+++ b/sdk.mjs
@@ -6213,7 +6213,7 @@ function createAbortController(maxListeners = DEFAULT_MAX_LISTENERS) {
 }
 
 // src/transport/ProcessTransport.ts
-import { spawn } from "child_process";
+import { fork } from "child_process";
 import { createInterface } from "readline";
 
 // src/utils/fsOperations.ts
@@ -6452,13 +6452,12 @@ class ProcessTransport {
         throw new ReferenceError(errorMessage);
       }
       const isNative = isNativeBinary(pathToClaudeCodeExecutable);
-      const spawnCommand = isNative ? pathToClaudeCodeExecutable : executable;
-      const spawnArgs = isNative ? args : [...executableArgs, pathToClaudeCodeExecutable, ...args];
-      this.logDebug(isNative ? `Spawning Claude Code native binary: ${pathToClaudeCodeExecutable} ${args.join(" ")}` : `Spawning Claude Code process: ${executable} ${[...executableArgs, pathToClaudeCodeExecutable, ...args].join(" ")}`);
       const stderrMode = env.DEBUG || stderr ? "pipe" : "ignore";
-      this.child = spawn(spawnCommand, spawnArgs, {
+
+      this.logDebug(`Forking Claude Code Node.js process: ${pathToClaudeCodeExecutable} ${args.join(" ")}`);
+      this.child = fork(pathToClaudeCodeExecutable, args, {
         cwd,
-        stdio: ["pipe", "pipe", stderrMode],
+        stdio: stderrMode === "pipe" ? ["pipe", "pipe", "pipe", "ipc"] : ["pipe", "pipe", "ignore", "ipc"],
         signal: this.abortController.signal,
         env
       });
