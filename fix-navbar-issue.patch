# 修复顶部导航栏被小程序遮挡的问题

## 问题描述
当用户在设置中选择顶部导航栏位置，并打开小程序时，小程序窗口会遮挡顶部导航栏，导致无法通过导航栏切换界面。

## 修复方案
1. 修改WebviewContainer组件，使其在顶部导航栏模式下正确计算高度
2. 修改MinappPopupContainer组件，调整Drawer组件的高度和位置，以适应顶部导航栏

## 具体修改

### src/renderer/src/components/MinApp/WebviewContainer.tsx
```diff
-    const WebviewStyle: React.CSSProperties = {
-      width: isLeftNavbar ? 'calc(100vw - var(--sidebar-width))' : '100vw',
-      height: 'calc(100vh - var(--navbar-height))',
-      backgroundColor: 'var(--color-background)',
-      display: 'inline-flex'
-    }
+    const { isLeftNavbar, isTopNavbar } = useNavbarPosition()
+    
+    const WebviewStyle: React.CSSProperties = {
+      width: isLeftNavbar ? 'calc(100vw - var(--sidebar-width))' : '100vw',
+      height: isTopNavbar ? 'calc(100vh - var(--navbar-height) - var(--navbar-height))' : 'calc(100vh - var(--navbar-height))',
+      backgroundColor: 'var(--color-background)',
+      display: 'inline-flex'
+    }
```

### src/renderer/src/components/MinApp/MinappPopupContainer.tsx
```diff
-    <Drawer
-      title={<Title appInfo={currentAppInfo} url={currentUrl} />}
-      placement="bottom"
-      onClose={handlePopupMinimize}
-      open={isPopupShow}
-      destroyOnClose={false}
-      mask={false}
-      rootClassName="minapp-drawer"
-      maskClassName="minapp-mask"
-      height={'100%'}
-      maskClosable={false}
-      closeIcon={null}
-      style={{
-        marginLeft: isLeftNavbar ? 'var(--sidebar-width)' : 0,
-        backgroundColor: window.root.style.background
-      }}>
+    <Drawer
+      title={<Title appInfo={currentAppInfo} url={currentUrl} />}
+      placement="bottom"
+      onClose={handlePopupMinimize}
+      open={isPopupShow}
+      destroyOnClose={false}
+      mask={false}
+      rootClassName="minapp-drawer"
+      maskClassName="minapp-mask"
+      height={isTopNavbar ? 'calc(100% - var(--navbar-height))' : '100%'}
+      maskClosable={false}
+      closeIcon={null}
+      style={{
+        marginLeft: isLeftNavbar ? 'var(--sidebar-width)' : 0,
+        marginTop: isTopNavbar ? 'var(--navbar-height)' : 0,
+        backgroundColor: window.root.style.background
+      }}>
```

## 测试建议
1. 设置导航栏位置为顶部
2. 打开任意小程序
3. 验证导航栏不再被遮挡，可以正常使用